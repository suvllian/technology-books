## 第1章 作用域

### 1. 编译原理

#### 词法/语法分析
将字符组成的字符串分解成有意义的代码块。

#### 解析/语法分析
将词法单元流转换成一个由元素逐级嵌套所组成的代表了程序语法的树。这个树被称为“抽象语法树”（AST）。

#### 代码生成
将AST转换为可执行代码。

JavaScript与其他语言不同，不会有大量的时间去做优化，大部分情况下，编译发生在运行前几微秒。


#### 2. 理解作用域

`var a = 2`这段代码发生了什么？

`LHS查询`：变量出现在赋值操作的左侧时进行LHS查询，LHS查询是为了找到变量本身，从而对变量进行操作。
`RHS查询`：变量出现在赋值操作的右侧时进行RHS查询，RHS查询是为了查找变量的值。

#### 3. 作用域嵌套
略

#### 4. 异常
`ReferenceError`同作用域判别失败有关，而`TypeError`代表作用域判别成功了，但是操作不合法或者不合理。